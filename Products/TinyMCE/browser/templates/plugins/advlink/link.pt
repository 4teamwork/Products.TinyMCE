<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html i18n:domain="tinymce" id="region-content" xmlns="http://www.w3.org/1999/xhtml" tal:define="portal_url portal_url|here/portal_url">
<head>
	<title i18n:translate="tinymce_advlink_dlg_title">Insert/edit link</title>
	<script type="text/javascript" src="" tal:attributes="src string:$portal_url/++resource++tinymce.javascripts/tiny_mce_popup.js"></script>
	<script type="text/javascript" src="" tal:attributes="src string:$portal_url/++resource++tinymce.javascripts/utils/mctabs.js"></script>
	<script type="text/javascript" src="" tal:attributes="src string:$portal_url/++resource++tinymce.javascripts/utils/form_utils.js"></script>
	<script type="text/javascript" src="" tal:attributes="src string:$portal_url/++resource++tinymce.javascripts/plugins/advlink/advlink.js"></script>
	<base target="_self" />
</head>
<body id="advlink" style="display: none">
	<div class="dialog-wrapper">
		<ul class="formTabs"><li id="general_tab" class="formTab firstFormTab"><a href="javascript:mcTabs.displayTab('general_tab','general_panel');setUploadVisibility();" onmousedown="return false;" class="selected"><span i18n:translate="tinymce_advlink_dlg_general_tab">General</span></a></li><li id="advanced_tab" class="formTab lastFormTab"><a href="javascript:mcTabs.displayTab('advanced_tab','advanced_panel');setUploadVisibility();" onmousedown="return false;"><span i18n:translate="tinymce_advlink_dlg_advanced_tab">Advanced</span></a></li></ul>

		<fieldset id="general_panel" class="formPanel" style="height: 362px; padding-top: 2em">
			<form>
				<input type="hidden" name="href" id="href"/>
				<fieldset class="column" style="width: 120px;">
					<legend>Libraries</legend>
		            <ul class="configlets">
		                <li id="home">
							<a href="javascript:displayPanel('internal_panel'); getPortalFolderListing();">
							    <img alt="" src="" tal:attributes="src string:$portal_url/logoIcon.gif"/> Home
							</a>
						</li>
		                <li>
							<a href="javascript:displayPanel('internal_panel'); getCurrentFolderListing();">
							    <img alt="" src="" tal:attributes="src string:$portal_url/site_icon.gif"/> Current Folder
							</a>
						</li>
		                <!-- li>
							<a href="javascript:displayPanel('internal_panel');">
							    <img src="" alt="" tal:attributes="src string:$portal_url/popup_calendar.gif"/> Recent Items
							</a>
						</li -->
		                <li>
							<a href="javascript:displayPanel('external_panel');">
					            <img alt="" src="" tal:attributes="src string:$portal_url/link_icon.gif"/> External
		                    </a>
		                </li>
		                <li>
							<a href="javascript:displayPanel('mail_panel');">
					            <img alt="" src="" tal:attributes="src string:$portal_url/mail_icon.gif"/> External
		                    </a>
		                </li>
		                <li>
							<a href="javascript:displayPanel('anchors_panel');">
					            <img alt="" src="" tal:attributes="src string:$portal_url/arrowBottom.gif"/> External
		                    </a>
		                </li>
		            </ul>
				</fieldset>

				<fieldset id="internal_panel" class="subPanel column" style="width: 296px;">
					<legend>Internal link</legend>
					<div class="field">
						<div id="internalpath" class="formHelp" style="text-align: right;"></div>
						<label for="internallink" i18n:translate="tinymce_advlink_dlg_list">Link list</label>
						<a id="uponelevel" class="link-parent" style="line-height: 1em;" href="javascript:void(0)"> Up one level </a>
						<div id="internallinkcontainer" class="widget radioscrolllist input-border" style="height: 260px;">
						</div>
					</div>
				</fieldset>

				<fieldset id="internal_details_panel" class="subPanel column" style="width: 190px;">
					<legend>Details</legend>
					<div class="field">
						<label id="internal_details_title"></label>
						<p id="internal_details_description"></p>
					</div>
					<div class="field">
						<label id="pageanchorlabel" for="pageanchor" style="display: none;" i18n:translate="tinymce_advlink_dlg_anchor_names">Anchors</label>
						<div class="widget" id="pageanchorcontainer" style="display: none;">
							<select id="pageanchor" name="pageanchor">
								<option value="">top of page (default)</option>
							</select>
						</div>
					</div>
				</fieldset>

				<fieldset id="external_panel" class="subPanel column" style="width:520px; display: none;">
					<legend>External link</legend>
					<div class="field">
						<label for="externalurl" i18n:translate="tinymce_advlink_dlg_url">Link URL</label>
						<div class="widget">
							<select id="externalurlprefix" name="externalurlprefix" onchange="previewExternalLink();">
								<option value="http://">http://</option>
								<option value="https://">https://</option>
								<option value="ftp://">ftp://</option>
							</select>
							<input type="text" name="externalurl" id="externalurl" value="" size="30" onchange="previewExternalLink();"/>
						</div>
					</div>

					<div class="field">
						<label for="preview" i18n:translate="tinymce_preview_preview_desc">Preview</label>
						<div class="widget">
							<iframe width="100%" height="242" frameborder="0" wrap="soft" dir="ltr" src="" class="input-border" name="previewexternal" id="previewexternal"></iframe>
						</div>
					</div>
				</fieldset>

				<fieldset id="mail_panel" class="subPanel column" style="width: 520px; display: none;">
					<legend>Mail</legend>
					<div class="field">
						<label for="mailaddress">E-mail</label>
						<div class="widget">
							<input type="text" name="mailaddress" id="mailaddress" value="" size="30" />
						</div>
					</div>

					<div class="field">
						<label for="mailsubject">Subject</label>
						<div class="widget">
							<input type="text" name="mailsubject" id="mailsubject" value="" size="30" />
						</div>
					</div>
				</fieldset>

				<fieldset id="anchors_panel" class="subPanel column" style="width: 520px; display: none;">
					<legend>Link to anchor</legend>
					<div class="field">
						<label i18n:translate="tinymce_advlink_dlg_anchor_names">Anchors</label>
						<div id="anchorlinkcontainer" class="widget radioscrolllist input-border" style="height: 280px;">
						</div>
					</div>
				</fieldset>
			</form>
	
			<fieldset id="upload_panel" class="subPanel column" style="width: 190px; display: none;">
				<legend>Upload file</legend>
				<form name="upload_form" id="upload_form" method="post" target="upload_iframe" enctype="multipart/form-data">
					<div class="field">
						<label for="uploadfile">File</label>
						<div class="widget">
							<input type="file" name="uploadfile" id="uploadfile" value="" style="width: 100%" size="15" />
						</div>
					</div>

					<div class="field">
						<label for="uploadtitle" i18n:translate="tinymce_advlink_dlg_titlefield">Title</label>
						<div class="widget">
							<input type="text" name="uploadtitle" id="uploadtitle" value="" size="25" />
						</div>
					</div>

					<div class="field">
						<label for="uploaddescription">Description</label>
						<div class="widget">
							<textarea wrap="soft" cols="10" rows="6" id="uploaddescription" name="uploaddescription"></textarea>
						</div>
					</div>

					<input type="button" id="uploadbutton" class="context" name="uploadbutton" value="Upload" onclick="document.forms[1].submit();"/>
				</form>
				<iframe style="display: none;" width="0" scrolling="off" height="0" frameborder="0" id="upload_iframe" name="upload_iframe" src="javascript:''"></iframe>
			</fieldset>
		</fieldset>

		<fieldset id="advanced_panel" class="formPanel" style="display: none; height: 374px">
			<form>
				<div class="field">
					<label id="targetlistlabel" for="targetlist" i18n:translate="tinymce_advlink_dlg_target">Target</label>
					<div class="widget">
						<select id="targetlist" name="targetlist" onchange="setPopupVisibility();">
							<option value="_self" i18n:translate="tinymce_advlink_dlg_target_same">Open in this window / frame</option>
							<option value="_blank" i18n:translate="tinymce_advlink_dlg_target_blank">Open in new window</option>
							<option value="_parent" i18n:translate="tinymce_advlink_dlg_target_parent">Open in parent window / frame</option>
							<option value="_top" i18n:translate="tinymce_advlink_dlg_target_top">Open in top frame (replaces all frames)</option>
							<!--option value="popup" i18n:translate="tinymce_advlink_dlg_popup">Javascript popup</option-->
						</select>
					</div>
				</div>
			
				<fieldset id="popup_panel" style="display: none;">
					<legend i18n:translate="tinymce_advlink_dlg_popup">Javascript popup</legend>
					<div class="column">
						<div class="field">
							<label for="popupname" i18n:translate="tinymce_advlink_dlg_popup_name">Window name</label>
							<div class="widget">
								<input type="text" name="popupname" id="popupname" value="" size="20" />
							</div>
						</div>
	
						<div class="field">
							<label i18n:translate="tinymce_advlink_dlg_popup_size">Size</label>
							<div class="widget">
								<input type="text" id="popupwidth" name="popupwidth" value="" size="4" /> x
								<input type="text" id="popupheight" name="popupheight" value="" size="4" /> px
							</div>
						</div>

						<div class="field">
							<label i18n:translate="tinymce_advlink_dlg_popup_position">Position (X/Y)</label>
							<div class="widget">
								<input type="text" id="popupleft" name="popupleft" value="" size="4" /> /                                
								<input type="text" id="popuptop" name="popuptop" value="" size="4" /> (c / c = center)
							</div>
						</div>
					</div>

					<div class="column">
						<div class="field">
							<div class="widget">
								<input type="checkbox" id="popuplocation" name="popuplocation" class="checkbox" />
								<label id="popuplocationlabel" for="popuplocation" i18n:translate="tinymce_advlink_dlg_popup_location">Show location bar</label>
							</div>
						</div>

						<div class="field">
							<div class="widget">
								<input type="checkbox" id="popupscrollbars" name="popupscrollbars" class="checkbox" />
								<label id="popupscrollbarslabel" for="popupscrollbars" i18n:translate="tinymce_advlink_dlg_popup_scrollbars">Show scrollbars</label>
							</div>
						</div>

						<div class="field">
							<div class="widget">
								<input type="checkbox" id="popupmenubar" name="popupmenubar" class="checkbox" />
								<label id="popupmenubarlabel" for="popupmenubar" i18n:translate="tinymce_advlink_dlg_popup_menubar">Show menu bar</label>
							</div>
						</div>

						<div class="field">
							<div class="widget">
								<input type="checkbox" id="popupresizable" name="popupresizable" class="checkbox" />
								<label id="popupresizablelabel" for="popupresizable" i18n:translate="tinymce_advlink_dlg_popup_resizable">Make window resizable</label>
							</div>
						</div>
					</div>

					<div class="column">
						<div class="field">
							<div class="widget">
								<input type="checkbox" id="popuptoolbar" name="popuptoolbar" class="checkbox" />
								<label id="popuptoolbarlabel" for="popuptoolbar" i18n:translate="tinymce_advlink_dlg_popup_toolbar">Show toolbars</label>
							</div>
						</div>

						<div class="field">
							<div class="widget">
								<input type="checkbox" id="popupdependent" name="popupdependent" class="checkbox" />
								<label id="popupdependentlabel" for="popupdependent" i18n:translate="tinymce_advlink_dlg_popup_dependent">Dependent (Mozilla/Firefox only)</label>
							</div>
						</div>

						<div class="field">
							<div class="widget">
								<input type="checkbox" id="popupstatus" name="popupstatus" class="checkbox" />
								<label id="popupstatuslabel" for="popupstatus" i18n:translate="tinymce_advlink_dlg_popup_statusbar">Show status bar</label>
							</div>
						</div>

						<div class="field">
							<div class="widget">
								<input type="checkbox" id="popupreturn" name="popupreturn" class="checkbox" checked="checked" />
								<label id="popupreturnlabel" for="popupreturn" i18n:translate="tinymce_advlink_dlg_popup_return">Insert 'return false'</label>
							</div>
						</div>
					</div>
				</fieldset>

				<div class="field">
					<label for="title">Title</label>
					<div class="widget">
						<input type="text" name="title" id="title" value="" size="30" />
					</div>
				</div>
			</form>
		</fieldset>

		<div class="visualClear"><!-- --></div>
		
	    <form onsubmit="insertAction();return false;" action="#">
			<div class="mceActionPanel formControls">
				<span class="actionButtons">
					<input type="submit" id="insert" class="context" name="insert" value="Insert" i18n:attributes="value tinymce_common_insert" />
					<input type="button" id="update" class="context" name="update" value="Update" i18n:attributes="value tinymce_common_update" style="display: none"/>
					<input type="button" id="cancel" class="context" name="cancel" value="Cancel" i18n:attributes="value tinymce_common_cancel" onclick="tinyMCEPopup.close();" />
					<input type="button" id="upload" class="standalone" name="upload" value="Upload file" onclick="displayPanel('upload_panel');" />
				</span>
			</div>
		</form>
	</div>
</body>
</html>
